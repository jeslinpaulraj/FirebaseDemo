<!DOCTYPE html>
<html lang="en">
<head>
	<title>Table V02</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
</head>
<body>
	
	<div class="limiter">
		<div class="container-table100">
			<div class="wrap-table100">
				<button id = "saveButton" onclick = "saveChanges()">save changes</button>

					<div class="table">

						<div class="row header">
							<div class="cell">
								Subject
							</div>
							<div class="cell">
								Due Date
							</div>
							<div class="cell">
								Assignment
							</div>
							<div class="cell">
								Description
							</div>
						</div>

						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub1" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd1" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a1" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d1" type = "text"></input>
							</div>
						</div>

						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub2" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd2" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a2" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d2" type = "text"></input>
							</div>
						</div>
						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub3" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd3" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a3" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d3" type = "text"></input>
							</div>
						</div>
						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub3" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd3" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a3" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d3" type = "text"></input>
							</div>
						</div>
						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub4" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd4" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a4" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d4" type = "text"></input>
							</div>
						</div>
						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub5" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd5" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a5" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d5" type = "text"></input>
							</div>
						</div>
						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub6" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd6" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a6" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d6" type = "text"></input>
							</div>
						</div>
						<div class="row">
							<div class="cell" data-title="Subject">
								<input id = "sub7" type = "text"></input>
							</div>
							<div class="cell" data-title="Due Date">
								<input id = "dd7" type = "text"></input>
							</div>
							<div class="cell" data-title="Assignment">
								<input id = "a7" type = "text"></input>
							</div>
							<div class="cell" data-title="Description">
								<input id = "d7" type = "text"></input>
							</div>
						</div>

					</div>
			</div>
		</div>
	</div>


		<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
		https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-database.js"></script>

	<script>
		// Your web app's Firebase configuration
		var firebaseConfig = {
			apiKey: "AIzaSyA6bpiU01wMk86e7HtShr4GUXocryehYHU",
			authDomain: "fir-demo-61a41.firebaseapp.com",
			databaseURL: "https://fir-demo-61a41.firebaseio.com",
			projectId: "fir-demo-61a41",
			storageBucket: "fir-demo-61a41.appspot.com",
			messagingSenderId: "863361980519",
			appId: "1:863361980519:web:4a35af5b42c8dfdbb1dcc2",
			measurementId: "G-1N118B5Y3H"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		firebase.analytics();
		firebase.database().ref('/Tasks/' + 1).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub1").value = childData['Subject']
			document.getElementById("dd1").value = childData['DueDate']
			document.getElementById("a1").value = childData['Assignment']
			document.getElementById("d1").value = childData['Description']
		})
		firebase.database().ref('/Tasks/' + 2).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub2").value = childData['Subject']
			document.getElementById("dd2").value = childData['DueDate']
			document.getElementById("a2").value = childData['Assignment']
			document.getElementById("d2").value = childData['Description']
		})
		firebase.database().ref('/Tasks/' + 3).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub3").value = childData['Subject']
			document.getElementById("dd3").value = childData['DueDate']
			document.getElementById("a3").value = childData['Assignment']
			document.getElementById("d3").value = childData['Description']
		})
		firebase.database().ref('/Tasks/' + 4).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub4").value = childData['Subject']
			document.getElementById("dd4").value = childData['DueDate']
			document.getElementById("a4").value = childData['Assignment']
			document.getElementById("d4").value = childData['Description']
		})
		firebase.database().ref('/Tasks/' + 5).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub5").value = childData['Subject']
			document.getElementById("dd5").value = childData['DueDate']
			document.getElementById("a5").value = childData['Assignment']
			document.getElementById("d5").value = childData['Description']
		})
		firebase.database().ref('/Tasks/' + 6).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub6").value = childData['Subject']
			document.getElementById("dd6").value = childData['DueDate']
			document.getElementById("a6").value = childData['Assignment']
			document.getElementById("d6").value = childData['Description']
		})
		firebase.database().ref('/Tasks/' + 7).once('value').then(function(snapshot) {
			var childData = snapshot.val()
			document.getElementById("sub7").value = childData['Subject']
			document.getElementById("dd7").value = childData['DueDate']
			document.getElementById("a7").value = childData['Assignment']
			document.getElementById("d7").value = childData['Description']
		})
		function saveChanges(){
			var sub1 = document.getElementById("sub1").value
			var dd1 = document.getElementById("dd1").value
			var a1 = document.getElementById("a1").value
			var d1 = document.getElementById("d1").value

			var sub2 = document.getElementById("sub2").value
			var dd2 = document.getElementById("dd2").value
			var a2 = document.getElementById("a2").value
			var d2 = document.getElementById("d2").value

			var sub3 = document.getElementById("sub3").value
			var dd3 = document.getElementById("dd3").value
			var a3 = document.getElementById("a3").value
			var d3 = document.getElementById("d3").value

			var sub4 = document.getElementById("sub4").value
			var dd4 = document.getElementById("dd4").value
			var a4 = document.getElementById("a4").value
			var d4 = document.getElementById("d4").value

			var sub5 = document.getElementById("sub5").value
			var dd5 = document.getElementById("dd5").value
			var a5 = document.getElementById("a5").value
			var d5 = document.getElementById("d5").value

			var sub6 = document.getElementById("sub6").value
			var dd6 = document.getElementById("dd6").value
			var a6 = document.getElementById("a6").value
			var d6 = document.getElementById("d6").value

			var sub7 = document.getElementById("sub7").value
			var dd7 = document.getElementById("dd7").value
			var a7 = document.getElementById("a7").value
			var d7 = document.getElementById("d7").value

			writeUserData(sub1,dd1,a1,d1,1)
			writeUserData(sub2,dd2,a2,d2,2)
			writeUserData(sub3,dd3,a3,d3,3)
			writeUserData(sub4,dd4,a4,d4,4)
			writeUserData(sub5,dd5,a5,d5,5)
			writeUserData(sub6,dd6,a6,d6,6)
			writeUserData(sub7,dd7,a7,d7,7)
			alert("your changes have been saved") 
			location.reload()
		}
		function writeUserData(subject, dueDate, assignment, description, counter) {
			var counter
			firebase.database().ref('/').once('value').then(function(snapshot) {
				var childData = snapshot.val()
				counter = childData["Counter"]
			})
			firebase.database().ref('Tasks/' + counter).set({
				Subject: subject,
				DueDate: dueDate,
				Assignment : assignment,
				Description: description
			});
		}
	</script>

<!--===============================================================================================-->	
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="js/main.js"></script>

</body>
</html>